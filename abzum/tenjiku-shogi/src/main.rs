
/*
Piece 	Kanji 	Rōmaji 	Abbrev. 	Promotes to 	Betza notation
Bishop 	角行 	kakugyō 	B 	角 	dragon horse 	B
Bishop general 	角将 	kakushō 	BG 	用 	vice general 	BcppB
Blind tiger 	盲虎 	mōko 	BT 	虎 	flying stag 	FrlbW
Chariot soldier 	車兵 	shahei 	CS 	車 	heavenly tetrarch 	BfbRrlR2
Copper general 	銅将 	dōshō 	C 	銅 	side mover 	fKbW
Dog 	犬 	inu 	D 	犬 	multi general 	fWbF
Dragon horse 	龍馬 	ryūme 	DH 	馬 	horned falcon 	WB
Dragon king 	龍王 	ryūō 	DK 	龍 	soaring eagle 	FR
Drunk elephant 	酔象 	suizō 	DE 	象 	prince 	FfrlW
Ferocious leopard 	猛豹 	mōhyō 	FL 	豹 	bishop 	FfbW
Fire demon 	火鬼 	kaki 	FD 	火 	— 	BrlR[mKa3K] + immediate xK
*Flying ox 	飛牛 	higyū 	FO 	牛 	(promoted vertical mover) 	BfbR
*Flying stag 	飛鹿 	hiroku 	FS 	鹿 	(promoted blind tiger) 	fbRK
*Free boar 	奔猪 	honcho 	FB 	猪 	(promoted side mover) 	BrlR
Free eagle 	奔鷲 	honjū 	FE 	就 	— 	QDA[aF]
Gold general 	金将 	kinshō 	G 	金 	rook 	WfF
Great general 	大将 	taishō 	GG 	大 	— 	QcppQ
*Heavenly tetrarch 	四天王 	shitennō 	HT 	天 	(promoted chariot soldier) 	B(≥2)fbR(≥2)rlR(2≤n≤3)cxK
Horned falcon 	角鷹 	kakuō 	HF 	鷹 	bishop general 	BrlbRf[avW]fD
Iron general 	鉄将 	tesshō 	I 	鉄 	vertical soldier 	fK
King (inferior) 	玉将 	gyokushō 	K 	玉 	— 	K
King (superior) 	王将 	ōshō 	K 	王 	— 	K
Kirin 	麒麟 	kirin 	Kr 	麒 	lion 	FD
Knight 	桂馬 	keima 	N 	桂 	side soldier 	ffN
Lance 	香車 	kyōsha 	L 	香 	white horse 	fR
Lion 	獅子 	shishi 	Ln 	獅 	lion hawk 	NAD[aK]
Lion hawk 	獅鷹 	shiō 	LH 	師 	— 	BNAD[aK]
*Multi general 	雜将 	suishō 	MG 	雜 	(promoted dog) 	fRbB
Pawn 	歩兵 	fuhyō 	P 	歩 	gold general 	fW
Phoenix 	鳳凰 	hōō 	Ph 	鳳 	queen 	WA
*Prince 	太子 	taishi 	CP 	子 	(promoted drunk elephant) 	K
Queen 	奔王 	honnō 	Q 	奔 	free eagle 	Q
Reverse chariot 	反車 	hensha 	RC 	反 	whale 	fbR
Rook 	飛車 	hisha 	R 	飛 	dragon king 	R
Rook general 	飛将 	hishō 	RG 	升 	great general 	RcppR
Side mover 	横行 	ōgyō 	SM 	横 	free boar 	WrlR
Side soldier 	横兵 	ōhei 	SS 	黄 	water buffalo 	WfR2rlR
Silver general 	銀将 	ginshō 	S 	銀 	vertical mover 	FfW
Soaring eagle 	飛鷲 	hijū 	SE 	鷲 	rook general 	RbBf[avF]fA
Vertical mover 	竪行 	shugyō 	VM 	竪 	flying ox 	WfbR
Vertical soldier 	竪兵 	shuhei 	VS 	立 	chariot soldier 	WfRrlR2
Vice general 	副将 	fukushō 	VG 	副 	— 	BcppB[mKa3K]
Water buffalo 	水牛 	suigyū 	WB 	水 	fire demon 	BrlRfbR2
*Whale 	鯨鯢 	keigei 	W 	鯨 	(promoted reverse chariot) 	fRbQ
*White horse 	白駒 	hakku 	WH 	駒 	(promoted lance) 	fQbR


The promotions can be summarized as series of promotion chains, as follows. Within each block below, a piece (except the kings) promotes to the piece above it. Pieces at the top of each block do not promote (and if in italics, and with an *asterisk, as stated before, these appear only upon promotion). Note that pieces may only promote once. For example, a gold general promotes to a rook, and a rook promotes to a dragon king, but a gold general promoted to a rook cannot promote a second time to a dragon king. This is clear from the equipment, for each piece only has two sides.
Jeweled general   玉将    *Crown prince   太子
King general  王将  ↑ Drunk elephant  ↑ 酔象
Vice general  副将    Great general   大将
↑ Bishop general  ↑ 角将  ↑ Rook general  ↑ 飛将
↑ Horned falcon   ↑ 角鷹  ↑ Soaring eagle   ↑ 飛鷲
↑ Dragon horse  ↑ 龍馬  ↑ Dragon king   ↑ 龍王
↑ Bishop  ↑ 角行  ↑ Rook  ↑ 飛車
↑ Ferocious leopard   ↑ 猛豹  ↑ Gold general  ↑ 金将
  ↑ Pawn  ↑ 歩兵
  Fire demon  火鬼    *Heavenly tetrarch  四天王
  ↑ Water buffalo   ↑ 水牛  ↑ Chariot soldier   ↑車兵
  ↑ Side soldier  ↑ 横兵  ↑ Vertical soldier  ↑ 竪兵
  ↑ Knight  ↑ 桂馬  ↑ Iron general  ↑ 鉄将
  Free eagle  奔鷲    Lion hawk   獅鷹
  ↑ Free king   ↑ 奔王  ↑ Lion  ↑ 獅子
  ↑ Phoenix   ↑ 鳳凰  ↑ Kirin   ↑ 麒麟
  *Free boar  奔猪    *Flying ox  飛牛
  ↑ Side mover  ↑ 横行  ↑ Vertical mover  ↑ 竪行
  ↑ Copper general  ↑ 銅将  ↑ Silver general  ↑ 銀将
  *Multi general  雜将    *Flying stag  飛鹿
  ↑ Dog   ↑ 犬  ↑ Blind tiger   ↑ 盲虎
  *White horse  白駒    *Whale  鯨鯢
  ↑ Lance   ↑ 香車  ↑ Reverse chariot   ↑ 反車


16  15  14  13  12  11  10  9   8   7   6   5   4   3   2   1    
L   N   FL  I   C   S   G   DE  K   G   S   C   I   FL  N   L   a
RC      CS  CS      BT  Ph  FK  Ln  Kr  BT      CS  CS      RC  b
SS  VS  B   DH  DK  WB  FD  FE  LH  FD  WB  DK  DH  B   VS  SS  c
SM  VM  R   HF  SE  BG  RG  VG  GG  RG  BG  SE  HF  R   VM  SM  d
p   p   p   p   p   p   p   p   p   p   p   p   p   p   p   p   e
                D                           D                   f
                                                                g
                                                                h
                                                                i
                                                                j
                D                           D                   k
p   p   p   p   p   p   p   p   p   p   p   p   p   p   p   p   l
SM  VM  R   HF  SE  BG  RG  GG  VG  RG  BG  SE  HF  R   VM  SM  m
SS  VS  B   DH  DK  WB  FD  LH  FE  FD  WB  DK  DH  B   VS  SS  n
RC      CS  CS      BT  Kr  Ln  FK  Ph  BT      CS  CS      RC  o
L   N   FL  I   C   S   G   K   DE  G   S   C   I   FL  N   L   p


Legend
B: Bishop   BG: Bishop General  BT: Blind Tiger
C: Copper General   CS: Chariot Soldier   D: Dog
DE: Drunk Elephant  DH: Dragon Horse  DK: Dragon King
FD: Fire Demon  FE: Free Eagle  FK: Free King
FL: Fierce Leopard  G: Gold General   GG: Great General
HF: Horned Falcon   I: Iron General   K: King
Kr: Kirin   L: Lance  LH: Lion Hawk
Ln: Lion  N: Knight   p: Pawn
Ph: Phoenix   R: Rook   RC: Reverse Chariot
RG: Rook General  S: Silver General   SE: Soaring Eagle
SM: Side Mover  SS: Side Soldier  VG: Vice General
VM: Vertical Mover  VS: Vertical Soldier  WB: Water Buffalo

*/

#[derive(Clone,Copy,Debug,Eq,PartialEq)]
pub enum Piece {
  Bishop, BishopGeneral, BlindTiger , ChariotSoldier, CopperGeneral,
  Dog, DragonHorse, DragonKing, DrunkElephant, FerociousLeopard,
  FireDemon, FlyingOx, FlyingStag, FreeBoar, FreeEagle,
  GoldGeneral, GreatGeneral, HeavenlyTetrarch, HornedFalcon, IronGeneral,
  KingInferior, KingSuperior, Kirin, Knight, Lance,
  Lion, LionHawk, MultiGeneral, Pawn, Phoenix,
  Prince, Queen, ReverseChariot, Rook, RookGeneral,
  SideMover, SideSoldier, SilverGeneral, SoaringEagle, VerticalMover,
  VerticalSoldier, ViceGeneral, WaterBuffalo, Whale, WhiteHorse,
}

const PIECE_INFO
  : [( Piece, &'static str, &'static str, &'static str, char, Option<Piece>);45] =
[
(Piece::Bishop,"角行","kakugyō","B",'角',Some(Piece::DragonHorse)),
(Piece::BishopGeneral,"角将","kakushō","BG",'用',Some(Piece::ViceGeneral)),
(Piece::BlindTiger,"盲虎","mōko","BT",'虎',Some(Piece::FlyingStag)),
(Piece::ChariotSoldier,"車兵","shahei","CS",'車',Some(Piece::HeavenlyTetrarch)),
(Piece::CopperGeneral,"銅将","dōshō","C",'銅',Some(Piece::SideMover)),
(Piece::Dog,"犬","inu","D",'犬',Some(Piece::MultiGeneral)),
(Piece::DragonHorse,"龍馬","ryūme","DH",'馬',Some(Piece::HornedFalcon)),
(Piece::DragonKing,"龍王","ryūō","DK",'龍',Some(Piece::SoaringEagle)),
(Piece::DrunkElephant,"酔象","suizō","DE",'象',Some(Piece::Prince)),
(Piece::FerociousLeopard,"猛豹","mōhyō","FL",'豹',Some(Piece::Bishop)),
(Piece::FireDemon,"火鬼","kaki","FD",'火',None),
(Piece::FlyingOx,"飛牛","higyū","FO",'牛',None),
(Piece::FlyingStag,"飛鹿","hiroku","FS",'鹿',None),
(Piece::FreeBoar,"奔猪","honcho","FB",'猪',None),
(Piece::FreeEagle,"奔鷲","honjū","FE",'就',None),
(Piece::GoldGeneral,"金将","kinshō","G",'金',Some(Piece::Rook)),
(Piece::GreatGeneral,"大将","taishō","GG",'大',None),
(Piece::HeavenlyTetrarch,"四天王","shitennō","HT",'天',None),
(Piece::HornedFalcon,"角鷹","kakuō","HF",'鷹',Some(Piece::BishopGeneral)),
(Piece::IronGeneral,"鉄将","tesshō","I",'鉄',Some(Piece::VerticalSoldier)),
(Piece::KingInferior,"玉将","gyokushō","K",'玉',None),
(Piece::KingSuperior,"王将","ōshō","K",'王',None),
(Piece::Kirin,"麒麟","kirin","Kr",'麒',Some(Piece::Lion)),
(Piece::Knight,"桂馬","keima","N",'桂',Some(Piece::SideSoldier)),
(Piece::Lance,"香車","kyōsha","L",'香',Some(Piece::WhiteHorse)),
(Piece::Lion,"獅子","shishi","Ln",'獅',Some(Piece::LionHawk)),
(Piece::LionHawk,"獅鷹","shiō","LH",'師',None),
(Piece::MultiGeneral,"雜将","suishō","MG",'雜',None),
(Piece::Pawn,"歩兵","fuhyō","P",'歩',Some(Piece::GoldGeneral)),
(Piece::Phoenix,"鳳凰","hōō","Ph",'鳳',Some(Piece::Queen)),
(Piece::Prince,"太子","taishi","CP",'子',None),
(Piece::Queen,"奔王","honnō","Q",'奔',Some(Piece::FreeEagle)),
(Piece::ReverseChariot,"反車","hensha","RC",'反',Some(Piece::Whale)),
(Piece::Rook,"飛車","hisha","R",'飛',Some(Piece::DragonKing)),
(Piece::RookGeneral,"飛将","hishō","RG",'升',Some(Piece::GreatGeneral)),
(Piece::SideMover,"横行","ōgyō","SM",'横',Some(Piece::FreeBoar)),
(Piece::SideSoldier,"横兵","ōhei","SS",'黄',Some(Piece::WaterBuffalo)),
(Piece::SilverGeneral,"銀将","ginshō","S",'銀',Some(Piece::VerticalMover)),
(Piece::SoaringEagle,"飛鷲","hijū","SE",'鷲',Some(Piece::RookGeneral)),
(Piece::VerticalMover,"竪行","shugyō","VM",'竪',Some(Piece::FlyingOx)),
(Piece::VerticalSoldier,"竪兵","shuhei","VS",'立',Some(Piece::ChariotSoldier)),
(Piece::ViceGeneral,"副将","fukushō","VG",'副',None),
(Piece::WaterBuffalo,"水牛","suigyū","WB",'水',Some(Piece::FireDemon)),
(Piece::Whale,"鯨鯢","keigei","W",'鯨',None),
(Piece::WhiteHorse,"白駒","hakku","WH",'駒',None),
];

////////////////////////////////////////

impl Piece {
  pub fn kanji(self) -> &'static str {
    PIECE_INFO[self as usize].1
  }
  pub fn name(self) -> &'static str {
    PIECE_INFO[self as usize].2
  }
  pub fn abbrev(self) -> &'static str {
    PIECE_INFO[self as usize].3
  }
  pub fn kanji1(self) -> char {
    PIECE_INFO[self as usize].4
  }
  pub fn promotes(self) -> Option<Piece> {
    PIECE_INFO[self as usize].5
  }
}

////////////////////////////////////////

/*
L   N   FL  I   C   S   G   DE  K   G   S   C   I   FL  N   L/
RC  1   CS  CS  1   BT  Ph  FK  Ln  Kr  BT  1   CS  CS  1   RC/
SS  VS  B   DH  DK  WB  FD  FE  LH  FD  WB  DK  DH  B   VS  SS/
SM  VM  R   HF  SE  BG  RG  VG  GG  RG  BG  SE  HF  R   VM  SM/
p   p   p   p   p   p   p   p   p   p   p   p   p   p   p   p/
        4       D             6             D       4         /
16/16/16/16/
        4       D             6             D       4         /
p   p   p   p   p   p   p   p   p   p   p   p   p   p   p   p/
SM  VM  R   HF  SE  BG  RG  GG  VG  RG  BG  SE  HF  R   VM  SM/
SS  VS  B   DH  DK  WB  FD  LH  FE  FD  WB  DK  DH  B   VS  SS/
RC  1   CS  CS  1   BT  Kr  Ln  FK  Ph  BT  1   CS  CS  1   RC/
L   N   FL  I   C   S   G   K   DE  G   S   C   I   FL  N   L
*/

////////////////////////////////////////

////////////////////////////////////////


fn main() {
    println!("{}", Piece::FireDemon.kanji());
    println!("{}", Piece::FireDemon.kanji1());
    println!("{}", Piece::FireDemon.name());
    println!("{}", Piece::FireDemon.abbrev());
    println!("{:?}", Piece::FireDemon.promotes());
}
